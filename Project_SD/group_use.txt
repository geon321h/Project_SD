-- group 실행 --
SELECT T10.GROUP_NO,GROUP_NAME,GROUP_MANAGER_NO,GROUP_CREATE_DAY,USER_COUNT
FROM GROUPSD T10
     ,(SELECT T22.GROUP_NO,COUNT(T21.USER_NO)USER_COUNT
       FROM GROUPSD_USER_LIST T21
            ,(SELECT GROUP_NO
              FROM GROUPSD_USER_LIST
              WHERE USER_NO = 1
                    and GROUP_CHECK = 'Y') T22
       WHERE T21.GROUP_NO = T22.GROUP_NO
       GROUP BY T22.GROUP_NO) T20
WHERE T10.GROUP_NO = T20.GROUP_NO
ORDER BY T10.GROUP_NO;

SELECT T10.GROUP_NO,GROUP_NAME,GROUP_MANAGER_NO,GROUP_CREATE_DAY,USER_COUNT
FROM GROUPSD T10
     ,(SELECT T22.GROUP_NO,COUNT(T21.USER_NO)USER_COUNT
       FROM GROUPSD_USER_LIST T21
            ,(SELECT GROUP_NO
              FROM GROUPSD_USER_LIST
              WHERE USER_NO = 1
              and GROUP_CHECK = 'Y') T22
       WHERE T21.GROUP_NO = T22.GROUP_NO
       GROUP BY T22.GROUP_NO) T20
WHERE T10.GROUP_NO = T20.GROUP_NO and T10.GROUP_MANAGER_NO = 1
ORDER BY T10.GROUP_NO;

SELECT COUNT(GROUP_NO)
FROM GROUPSD_USER_LIST
WHERE USER_NO = 1
AND GROUP_CHECK = 'Y';

SELECT GROUP_NAME, T10.GROUP_NO
FROM (SELECT GROUP_NO
      FROM GROUPSD_USER_LIST
      WHERE USER_NO = 1
      and GROUP_CHECK = 'N')T10
      , GROUPSD T20
WHERE T10.GROUP_NO = T20.GROUP_NO;

UPDATE GROUPSD_USER_LIST 
SET GROUP_CHECK = 'Y'
WHERE GROUP_NO = 6
AND USER_NO = 1;

DELETE GROUPSD_USER_LIST
WHERE  GROUP_NO = 6
AND USER_NO = 1
AND GROUP_CHECK = 'N';
